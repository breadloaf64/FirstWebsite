<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <title>Image Conversion</title>

        <!-- Bootstrap -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <!-- My css -->
        <link rel="stylesheet" , href="/common/squareSketches.css" />

        <!-- Sketch -->
        <script src="Main.js" type="text/javascript"></script>
        <script src="Button.js" type="text/javascript"></script>
        <script src="Helpers_Drawing.js" type="text/javascript"></script>
        <script src="Helpers_Styling.js" type="text/javascript"></script>
        <script
            src="Helper_WebsiteMobileSetup.js"
            type="text/javascript"
        ></script>
        <script src="Helpers_Image.js" type="text/javascript"></script>
        <script src="Helpers_Events.js" type="text/javascript"></script>
        <script src="Scene_takePhoto.js" type="text/javascript"></script>
        <script src="Scene_setThreshold.js" type="text/javascript"></script>
        <script src="Scene_sequence.js" type="text/javascript"></script>
        <script src="Camera.js" type="text/javascript"></script>
        <script src="Helpers_Conversion.js" type="text/javascript"></script>
        <script src="Sequence.js" type="text/javascript"></script>
        <script src="Helpers_Sound.js" type="text/javascript"></script>
        <script src="Scale.js" type="text/javascript"></script>
        <script src="PlayHead.js" type="text/javascript"></script>

        <!-- P5js -->
        <script
            src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"
            type="text/javascript"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/p5@v1.4.1/lib/addons/p5.sound.min.js"
            type="text/javascript"
        ></script>

        <!-- Don't forget this one if using sound! -->
        <script
            src="https://unpkg.com/@free-side/audioworklet-polyfill/dist/audioworklet-polyfill.js"
            type="text/javascript"
        ></script>
    </head>
    <body>
        <!-- sketch holder -->
        <div class="square-box">
            <div id="sketch-holder" class="square-content">
                <!-- Our sketch will go here! -->
            </div>
        </div>

        <div class="container">
            <div class="col-sm">
                <!-- sketch title and description -->
                <h1 class="sketch-title">Image Conversion</h1>
                <p class="sketch-desc">
                    Take a photo and hear what it sounds like!
                </p>

                <p>
                    Remember the goal of the project is to take an image and
                    convert it into music. In this experiment we finally do
                    that! You could call it the Minimum Viable Product, I
                    suppose. It combines all of the techniques learned in
                    previous sketches.
                </p>

                <p>
                    So how to we convert an image to a sequence? Obviously we
                    begin by taking a picture. The next step is to apply a
                    threshold filter. The motivation behind this is that users
                    can draw their sequence on a bit of paper. When we apply a
                    threshold, the dark ink on the lighter paper will come out
                    to a very clean sequence. On the thresholding page, click
                    and drag up and down to change the threshold value, to allow
                    for the cleanest (low noise) image. leaner images result in
                    cleaner sequences.
                </p>

                <p>
                    Then click "convert to sequence". The conversion process
                    that takes place at this point is the heart of this
                    experiment, and it is explained in full in the project
                    write-up. The aridged explanation goes as follows:
                </p>

                <ol>
                    <li>Take a thresholded image.</li>
                    <li>
                        Scan the image left to right, examining each column of
                        pixels.
                    </li>
                    <li>
                        For each column, identify the groups of neighbouring
                        black pixels.
                        <em
                            >Suppose the image is a photograph of some
                            hand-drawn lines. Well those lines are probably
                            going to be more than one pixel thick! So we
                            identify which pixels belong to each of those lines
                            by seeing which pixels neighbour each other.</em
                        >
                    </li>
                    <li>
                        Find the centre points of each of those groups.
                        <em
                            >The goal here is to remove the thickness of each of
                            the lines mentioned in the example above.</em
                        >
                    </li>
                    <li>Map those lines onto voices in the sequence.</li>
                </ol>
            </div>
        </div>
    </body>
</html>
