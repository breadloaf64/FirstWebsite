<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <title>Polyphonic Sequencer</title>

        <!-- Bootstrap -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <!-- My css -->
        <link rel="stylesheet" , href="/common/squareSketches.css" />

        <!-- Sketch -->
        <script src="Main.js" type="text/javascript"></script>
        <script src="Voice.js" type="text/javascript"></script>
        <script src="PlayHead.js" type="text/javascript"></script>
        <script src="Scale.js" type="text/javascript"></script>
        <script src="Button.js" type="text/javascript"></script>
        <script src="HelpersDrawing.js" type="text/javascript"></script>
        <script src="HelpersVoices.js" type="text/javascript"></script>
        <script src="HelpersMouse.js" type="text/javascript"></script>
        <script src="HelpersSound.js" type="text/javascript"></script>
        <script src="HelpersStyling.js" type="text/javascript"></script>
        <script
            src="HelpersWebsiteMobileSetup.js"
            type="text/javascript"
        ></script>
        <script src="HelpersMaths.js" type="text/javascript"></script>

        <!-- P5js -->
        <script
            src="https://cdn.jsdelivr.net/npm/p5@1.4.1/lib/p5.js"
            type="text/javascript"
        ></script>
        <script
            src="https://cdn.jsdelivr.net/npm/p5@v1.4.1/lib/addons/p5.sound.min.js"
            type="text/javascript"
        ></script>

        <!-- Don't forget this one if using sound! -->
        <script
            src="https://unpkg.com/@free-side/audioworklet-polyfill/dist/audioworklet-polyfill.js"
            type="text/javascript"
        ></script>
    </head>
    <body>
        <!-- sketch holder -->
        <div class="square-box">
            <div id="sketch-holder" class="square-content">
                <!-- Our sketch will go here! -->
            </div>
        </div>

        <div class="container">
            <div class="col-sm">
                <!-- sketch title and description -->
                <h1 class="sketch-title">Polyphonic Sequencer</h1>
                <p class="sketch-desc">
                    Drag to add a new voice to the sequence.
                </p>

                <p>
                    Polyphonic Sequencer is the natural progression from
                    <a href="../smoothSequencer/">Smooth Sequencer</a>. I
                    adapted the original logic to a <code>Voice</code> class,
                    which can "sing" a maximum of one note at any point in the
                    sequence. Naturally, then an array of <code>Voice</code>s
                    represents a sequence where multiple notes can be played in
                    polyphony across the sequence.
                </p>

                <p>
                    I then adpated code from
                    <a href="../scales/">Scales</a> which allowed 2 things:
                </p>
                <ol>
                    <li>
                        The Y axis now represents musical pitch linearly. That
                        is, a movement a certain distance along the y axis will
                        always result in the same step in pitch along the music
                        scale. This is in contrast to
                        <a href="../smoothSequencer/">Smooth Sequencer</a> where
                        the y axis represented frequency, which has an
                        exponential relationship with musical pitch.
                    </li>
                    <li>
                        The sequences can now be quantised! The scale is set to
                        C major pentatonic.
                    </li>
                </ol>

                <p>
                    Since we can quantise the pitch, It seemed sensible to also
                    allow quantisation of time. This was much simpler than pitch
                    quantisation. We begin by breaking up the length of the
                    sequence into a number of time steps (16 in this case).
                    Then, at any point along the sequence, instead of accessing
                    the current note we access the note that's at the start of
                    the current time step! In practise this means that when we
                    play a sequence, notes may only change, begin or end at the
                    beginning of a time step.
                </p>
            </div>
        </div>
    </body>
</html>
