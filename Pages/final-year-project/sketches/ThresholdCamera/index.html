<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta charset="utf-8" />
        <title>Threshold Camera</title>

        <!-- Bootstrap -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
            integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
            crossorigin="anonymous"
        />

        <!-- My css -->
        <link rel="stylesheet" , href="/common/squareSketches.css" />

        <!-- Sketch -->
        <script src="Main.js" type="text/javascript"></script>
        <script src="Drawing.js" type="text/javascript"></script>
        <script src="Styling.js" type="text/javascript"></script>
        <script src="Capture.js" type="text/javascript"></script>
        <script src="CV.js" type="text/javascript"></script>
        <script src="Button.js" type="text/javascript"></script>
        <script src="WebsiteMobileSetup.js" type="text/javascript"></script>

        <!-- P5js -->
        <script
            src="https://cdn.jsdelivr.net/npm/p5@1.2.0/lib/p5.js"
            type="text/javascript"
        ></script>
        <script
            src="https://www.openprocessing.org/assets/js/vendor/p5jsLibraries/opencv/opencv-4.0.1.js"
            type="text/javascript"
        ></script>
    </head>
    <body>
        <!-- sketch holder -->
        <div class="square-box">
            <div id="sketch-holder" class="square-content">
                <!-- Our sketch will go here! -->
            </div>
        </div>

        <div class="container">
            <div class="col-sm">
                <!-- sketch title and description -->
                <h1 class="sketch-title">Threshold Camera</h1>
                <p class="sketch-desc">
                    Tap to take a photo! The height of the tap determines the
                    thresholding value.
                </p>

                <!-- Sketch info -->
                <!-- <p class="sketch-info"></p> -->
                <p class="sketch-info">
                    Now we have the camera image coming through, we can move to
                    the next step. Remember: our final goal is to take images of
                    doodles on a post-it note and convert it into a musical
                    sequence. So we will need the computer to “see” the drawn
                    lines!
                </p>
                <p class="sketch-info">
                    To make it easier, we first simplify the image. The process
                    we use here is called thresholding. For each pixel in the
                    image, we compare its grayscale “brightness” value to a
                    predefined thresholding limit. If it is brighter than the
                    limit, we colour the pixel white, else we colour it black.
                    This way we obtain an image composed of only fully black and
                    fully white pixels.
                </p>
                <p class="sketch-info">
                    Just before we apply the threshold filter to the image, we
                    actually introduce a bit of blur. Why? To deal with noise,
                    which is a phenomenon found in photography where stray
                    photons hitting the camera sensor cause nearby pixels to
                    take on different values, where in a perfect world they
                    should be the same colour. If we do not apply this blur,
                    then in the thresholded image we can get specky looking
                    regions of pixels which have values near to the thresholding
                    limit.
                </p>
                <p class="sketch-info">
                    Finally, for purely aesthetic reasons we remap the black and
                    white pixels to two lovely contrasting pastel shades!
                </p>
                <p class="sketch-info">
                    This sketch was my first time using openCV, which is a very
                    widely used computer vision library. I used the javascript
                    distribution which is, in contrast, not widely used at all
                    and I had to make do with little documentation and help on
                    stack exchange! I owe a lot of credit to
                    <a href="https://openprocessing.org/sketch/1049343"
                        >this sketch</a
                    >, which laid the groundwork for me.
                </p>
            </div>
        </div>
    </body>
</html>
