<!DOCTYPE html>
<html>
	<head>
		<title>Gyroscope with P5js</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- jQuery -->
		<script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>

		<!-- bootstrap -->
		<script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
		<link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

		<!-- p5js -->
		<script src="//cdnjs.cloudflare.com/ajax/libs/p5.js/0.2.22/p5.min.js"></script>

		<!-- parse functions -->
		<!-- <script language="javascript" src="../../parsefunctions.js"></script> -->

		<!-- sketch -->
		<script language="javascript" src="copysketch.js"></script>
		<style type="text/css">
			body {padding: 0; margin: 0}
			canvas { border: 1px solid #ccc; margin-bottom: 25px }
			.prettyprint ol.linenums > li { list-style-type: decimal; }
		</style>

	</head>
	<body>

		<div class="container">

		<h1>Gyroscope with P5js</h1>

		<p>This demo will only work for mobile phones. This demo uses the gyroscope to change the rotation of the square (only using gamma for this example). This could easily be adapted to simulate the turning of a steering wheel. However, you might quickly notice that rotating your phone also changes the orientation. You can disable this by turning on orientation lock on your <a href="http://support.apple.com/en-us/TS3805" target="_blank">iPhone</a> or <a href="http://www.howtogeek.com/201130/how-to-lock-screen-orientation-in-android/" target="_blank">Android</a> device.</p>


		<div id="sketch"></div>

		<h2>sketch.js code</h2>

        var alpha, beta, gamma;
        var xpos, ypos;

        function setup()
        {
          // set canvas size
          var myCanvas = createCanvas(400, 400);
          myCanvas.parent('sketch');

          // default values
          xpos = 200;
          ypos = 200;
          alpha = 0;
          beta = 0;
          gamma = 0;
        }

        function draw()
        {
          // set background color to white
          background(255);

          // display variables
          fill(100);
          noStroke();
          text("alpha: " + alpha, 25, 25);
          text("beta: " + beta, 25, 50);
          fill(255, 0, 0);
          text("gamma: " + gamma, 25, 75);

          push();
          translate(200, 200);
          rotate(radians(gamma));
          fill(255, 0, 0);
          rect(-40, -40, 80, 80);
          fill(0);
          rect(-40, 40, 80, 5);
          pop();
        }

        // accelerometer Data
        window.addEventListener('deviceorientation', function(e)
        {
          alpha = e.alpha;
          beta = e.beta;
          gamma = e.gamma;
        });


		</div>
	</body>
</html>
