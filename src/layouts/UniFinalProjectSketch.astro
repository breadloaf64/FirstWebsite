---
import '../styles/squareSketches.css'

interface Props {
	title: string
	description: string
	usesSound?: boolean
}

const { title, description, usesSound = false } = Astro.props
---

<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content="Astro description" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="icon" type="image/svg+xml" href="/uke-icon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>

		<!-- Bootstrap -->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
			integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
			crossorigin="anonymous"
		/>

		<!-- Sketch -->
		<slot name="scripts" />

		<!-- P5js -->
		<script
			is:inline
			src="https://cdn.jsdelivr.net/npm/p5@v1.3.1/lib/p5.js"
			type="text/javascript"></script>
		{
			usesSound && (
				<>
					<script
						is:inline
						src="https://cdn.jsdelivr.net/npm/p5@vv1.4.0/lib/addons/p5.sound.min.js"
						type="text/javascript"
					/>

					<script
						is:inline
						src="https://unpkg.com/@free-side/audioworklet-polyfill/dist/audioworklet-polyfill.js"
						type="text/javascript"
					/>
				</>
			)
		}
	</head>
	<body>
		<!-- sketch holder -->
		<div class="square-box">
			<div id="sketch-holder" class="square-content">
				<!-- Our sketch will go here! -->
			</div>
		</div>

		<div class="container">
			<div class="col-sm">
				<!-- sketch title and description -->
				<h1 class="sketch-title">{title}</h1>
				<p class="sketch-desc">
					{description}
				</p>

				<!-- Sketch info -->
				<slot />
			</div>
		</div>
	</body>
</html>
